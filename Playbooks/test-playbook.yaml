---
- name: Manage applications using Winget
  hosts: all
  gather_facts: false

  tasks:

# Install an application
- name: Install VLC media player
  ansible-winget:
    appID: VideoLAN.VLC
    state: present
    architecture: x64
    scope: machine
    version: 3.0.19

# Update an application
- name: Update VLC media player
  ansible-winget:
    appID: VideoLAN.VLC
    state: updated
    architecture: x64
    scope: machine

    # Uninstall an application
- name: Uninstall VLC media player
  ansible-winget:
    appID: VideoLAN.VLC
    state: absent
    scope: machine
    version: 3.0.20